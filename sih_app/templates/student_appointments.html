{% extends "index.html" %}
{% block content %}
<div class="container">
  <h1>My Appointments & Status</h1>
  <nav>
    <ul style="display:flex;gap:20px;list-style:none;padding:0;">
      <li><a href="/">Home</a></li>
      <li><a href="/myspace/">My Space</a></li>
      <li><a href="/support/">Support Hub</a></li>
      <li><a href="/wellness/">Wellness Hub</a></li>
      <li><a href="/logout/">Logout</a></li>
    </ul>
  </nav>
  <h2>My Appointments</h2>
  <ul style="padding:0;list-style:none;max-width:600px">
    {% for appt in appointments %}
      <li style="margin-bottom:18px;padding:14px 16px;background:#f6f8ff;border-radius:10px;border:1px solid #e5e7eb;">
        <div style="font-weight:600">{{ appt.slot.counsellor_name }} ({{ appt.slot.specialization }})</div>
        <div style="color:#64748b">{{ appt.slot.day }} {{ appt.slot.start_time }}-{{ appt.slot.end_time }}</div>
        <div style="margin-top:6px">
          {% if appt.status == 'confirmed' %}
            <span style="color:#22c55e;font-weight:700"><span style="font-size:18px">‚úîÔ∏è</span> Confirmed</span> <span class="meta">(Your booking is confirmed. Please attend on time.)</span>
          {% elif appt.status == 'completed' %}
            <span style="color:#6366f1;font-weight:700"><span style="font-size:18px">üèÅ</span> Completed</span> <span class="meta">(Session completed. Thank you for attending!)</span>
          {% elif appt.status == 'cancelled' %}
            <span style="color:#ef4444;font-weight:700"><span style="font-size:18px">‚ùå</span> Cancelled</span> <span class="meta">(This appointment was cancelled by the supervisor.)</span>
          {% elif appt.status == 'waiting' %}
            <span style="color:#f59e0b;font-weight:700"><span style="font-size:18px">‚è≥</span> Waiting List</span> <span class="meta">(You are on the waiting list. You'll be notified if a slot opens.)</span>
          {% else %}
            <span style="color:#64748b;font-weight:700">{{ appt.status|capfirst }}</span>
          {% endif %}
        </div>
      </li>
    {% empty %}
      <li>No appointments yet.</li>
    {% endfor %}
  </ul>
  <h2>My Waiting List</h2>
  <ul>
    {% for w in waiting_list %}
      <li>{{ w.slot.counsellor_name }} ({{ w.slot.specialization }}) - {{ w.slot.day }} {{ w.slot.start_time }}-{{ w.slot.end_time }}</li>
    {% empty %}
      <li>No waiting list entries.</li>
    {% endfor %}
  </ul>
</div>
{% endblock %}
